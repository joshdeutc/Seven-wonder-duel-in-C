@startuml
class Carte{
{field} #nom:string
cout_piece:int
cout_prod:Ressource
en_jeu:bool
{method}prix_final(joueur):int
}
class Batiment{
age:{1,2,3}
accessible:bool
face_visible:bool
statut:string {'defausse','joueur1','joueur2','centre','merveille'}
}
class Merveille{
production:Ressource
points:int
argent_apporté:int
affecte:Ressource
tirage_trois_jetons:bool
construite:bool
}


Carte <|-- Batiment
Carte <|-- Merveille

class Matière_Première{
type:Ressource
}
class Matière_Manufacture{
type:Ressource
}
class Civil{
points:int
}
class Scientifique{
points:int
symbole:{roue,plume,globe,bol,horloge,A}
}
class Commerce{
production:Ressource
points:int
solde_apporté:int
affecte:Ressource
}
class Guilde{
piece:bool
points:int
---
}
class Militaire{
bouclier:int
}

Batiment <|-- Matière_Première
Batiment <|-- Matière_Manufacture
Batiment <|-- Civil
Batiment <|-- Scientifique
Batiment <|-- Commerce
Batiment <|-- Guilde
Batiment <|-- Militaire

class Joueur{
{field}type:{h,IA}
#id:string
points:int
solde:int
ressources_prod:Ressource
ressources_non_prod:Ressource
{method}nb_symboles():int
double_symbole(Scientifique):bool
tirage_jetons(en_jeu):bool
prix_fixe(ressource):bool
get_couleur(couleur1,couleur2):int
get_couleur(couleur):int
action():void
defausser():void
construire_batiment():void
construire_merveille():void
possede_chainage(Nom):bool
choisir_merveille():void
}

class Jeton{
#nom:string
en_jeu:bool
}

class Jeton_militaire{
pieces:int
}
class Jeton_progres{
{method} architecture(Joueur):void
agriculture(Joueur):void
economie(Joueur):void
loi(Joueur):void
maconnerie(Joueur):void
mathematique(Joueur):void
philosophie(Joueur):void
strategie(Joueur):void
theologie(Joueur):void
urbanisme(Joueur):void
}

Jeton <|-- Jeton_militaire
Jeton <|-- Jeton_progres

class Partie{
{field}solde_militaire:signed int
nb_tour:int
age:{1,2,3}
merveille_construite:int
tour:{1,2}
disposition:Batiment tab[][]
{method}mise_en_jeu_batiments():void
mise_en_jeu_jeton_progres():void
mise_en_jeu_merveilles():void
tour_suivant():void
fin_age():bool
accessibilite(Batiment):void
victoire_scientifique(Joueur):void
change_solde_militaire(Joueur,nb_boucliers):void
victoire_militaire():void
}
enum Ressource{
bois
argile
pierre
verre
papyrus
}

Batiment "1" -- "1" Batiment : chainage
Joueur "1" -- "*" Carte : possede
Batiment "20" -- "*" Partie : en_jeu_A1
Batiment "20" -- "*" Partie : en_jeu_A2
Batiment "20" -- "*" Partie : en_jeu_A3
Merveille "8" -- "*" Partie : en_jeu
Joueur "0...1" -- "0..5" Jeton_progres : possede
Joueur "1" -- "*" Partie : vainqueur
Joueur "1" -- "*" Partie : perdant
Jeton_progres "5" -- "*" Partie : mis_en_jeu
@enduml
