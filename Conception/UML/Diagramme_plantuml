@startuml

class Carte{
{field} #nom:string
cout_piece:int
cout_prod:ressource
{method}get_prix_final(joueur j):int
}
class Batiment{
Age:{1,2,3}
enjeu:bool
}
class Merveille{
Production:Ressource
Points:int
Argent_Apporté:int
Affecte:Ressource
tirage_jeton:int
}


Carte <|-- Batiment
Carte <|-- Merveille

class Matière_Première{
Type:Ressource
}
class Matière_Manufacture{
Type:Ressource
}
class Civil{
Points:int
}
class Scientifique{
Points:int
Symbole:{roue,plume,bol,telescope}
}
class Commerce{
production:Ressource
points:int
argent_apporté:int
affecte:Ressource
}
class Guilde{
piece:bool
points:int
---
}
class Militaire{
bouclier:int
}

Batiment <|-- Matière_Première
Batiment <|-- Matière_Manufacture
Batiment <|-- Civil
Batiment <|-- Scientifique
Batiment <|-- Commerce
Batiment <|-- Guilde
Batiment <|-- Militaire

class Joueur{
{field}type:{h,IA}
#id:string
points:int
argent:int
ressources:Ressource
{method}action():void
defosser():void
construire_batiment():void
construire_merveille():void
nb_symboles:int
double_symbole:bool
possede_chainage:bool
prix_fixe(ressource):bool
get_couleur(couleur1,couleur2):int
get_couleur(couleur):int

}

class Jeton{
#nom:string
en_jeu:bool
}

class Jeton_militaire{
argent:int
}
class Jeton_progres{
{method} architecture():void
agriculture():void
economie():void
loi():void
maconnerie():void
mathematique():void
philosophie():void
strategie():void
theologie():void
urbanisme():void
}

Jeton <|-- Jeton_militaire
Jeton <|-- Jeton_progres

class Partie{
{field}solde_militaire:signed int
nb_tour:int
age:{1,2,3}
merveille_construite:int
tour:{1,2}
disposition:Batiment tab[][]
{method}choix_batiment():void
choix_jeton_progres():void
fin_age():bool
}
enum Ressource{
bois
argile
pierre
verre
papyrus
}

Batiment "1" -- "1" Batiment : chainage
Joueur "1" -- "*" Carte : possede
Batiment "20" -- "*" Partie : en_jeu_A1
Batiment "20" -- "*" Partie : en_jeu_A2
Batiment "20" -- "*" Partie : en_jeu_A3
Merveille "8" -- "*" Partie : en_jeu
Joueur "0...1" -- "0..5" Jeton_progres : possede
Joueur "1" -- "*" Partie : vainqueur
Joueur "1" -- "*" Partie : perdant
Jeton_progres "5" -- "*" Partie : mis_en_jeu

@enduml
